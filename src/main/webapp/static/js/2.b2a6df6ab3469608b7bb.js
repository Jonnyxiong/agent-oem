webpackJsonp([2],{106:function(e,t,a){a(529),a(530);var s=a(0)(a(477),a(572),"data-v-b5eed450",null);e.exports=s.exports},477:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(1),i=new s.a;t.default={name:"enterpriseAuth",methods:{initUpload:function(){var e=this,t=this.uploadUrl,a=WebUploader.create({auto:!0,swf:NaN,fileVal:"photoFile",server:t,pick:"#filePicker",accept:{title:"Images",extensions:"gif,jpg,jpeg,bmp,png",mimeTypes:"image/*"}});a.on("fileQueued",function(t){a.makeThumb(t,function(t,a){if(t)return void e.$message.error("图片预览失败");e.imageUrl=a})}),a.on("uploadSuccess",function(t,a){"success"==a.result&&(e.params.imgUrl=a.path)})},goBack:function(){this.$router.go(-1)},uploadCer:function(){var e=this,t=this.params;return 0==t.idNbr.length?void this.$message.error("证件号码不能为空"):(this.nbrError=!1,t.idNbr.length>20?void this.$message.error("证件号码长度不能大于20个字符"):0==t.realName.length?void this.$message.error("真实姓名不能为空"):t.realName.length>20?void this.$message.error("真实姓名长度不能大于20个字符"):0==t.imgUrl.length?void this.$message.error("请上传图片"):void i.post("/client/cer/add",t,{emulateJSON:!0}).then(function(t){e.$store.commit("LOAD_CER",{loading:!0}),e.$store.dispatch("getCustomerCer"),e.$message({type:"success",message:t.msg})},function(t){e.$message.error(t.msg)}))},reUpload:function(){var e=this,t=this.params;return 0==t.idNbr.length?void this.$message.error("证件号码不能为空"):(this.nbrError=!1,t.idNbr.length>20?void this.$message.error("证件号码长度不能大于20个字符"):0==t.realName.length?void this.$message.error("真实姓名不能为空"):t.realName.length>20?void this.$message.error("真实姓名长度不能大于20个字符"):void i.post("/client/cer/edit",t,{emulateJSON:!0}).then(function(t){e.$store.commit("LOAD_CER",{loading:!0}),e.$store.dispatch("getCustomerCer"),e.$router.replace({name:"customer_manager_auth",params:{id:e.clientId},query:{status:2,type:1}}),e.$message({type:"success",message:t.msg})},function(t){e.$message.error(t.msg)}))},getUploadUrl:function(){var e=this,t=this.$route.params.id;i.get("/client/cer/info",{clientId:t}).then(function(t){e.uploadUrl=t.data.smsp_img_url+"/upload/uploadAuto.html",e.params.realName=t.data.cerInfo.realName,e.params.idNbr=t.data.cerInfo.idNbr,e.imageUrl=t.data.cerInfo.imgUrl,e.initUpload()},function(e){})}},data:function(){return{edit:"",imageUrl:"",uploadUrl:"",clientId:"",params:{clientId:"",clientType:"",realName:"",idNbr:"",imgUrl:"",idType:"5"},uploadData:{userId:"",idType:"5",oauthType:"1",fileFormats:"png,jpg,jpeg"}}},mounted:function(){this.getUploadUrl(),this.edit=this.$route.query.edit,this.clientId=this.customer_data.clientid,this.uploadData.userId=this.customer_data.clientid,this.params.clientId=this.customer_data.clientid,this.params.clientType=this.customer_data.client_type},computed:{customer_data:function(){return this.$store.getters.customer_data},customer_cer:function(){return this.$store.getters.customer_cer},loading:function(){return this.$store.getters.load_cer}}}},500:function(e,t,a){t=e.exports=a(435)(!0),t.push([e.i,".page-userAuth .item{margin-bottom:10px}.page-userAuth .item .title{line-height:32px;height:32px;width:85px;text-align:right}.page-userAuth .item .desc{line-height:32px}.page-userAuth .item .input{display:block;width:285px}.page-userAuth .uploadBtn{width:112px;margin-top:10px}.page-userAuth .uploadBtn2{width:130px;margin-top:10px}.page-userAuth .avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.page-userAuth .avatar-uploader .el-upload img{display:block}.page-userAuth .avatar-uploader .el-upload .hover-img{display:none}.page-userAuth .avatar-uploader .el-upload:hover{border-color:#26be96}.page-userAuth .avatar-uploader .el-upload:hover .hover-img{display:block}.page-userAuth .avatar{width:300px}.page-userAuth .uplaod-tip{width:200px;color:#999;font-size:12px;line-height:16px;margin-left:10px}","",{version:3,sources:["D:/Ucpaas/code/smsa-agent-oem-F2E/src/pages/Customer/PersonalAuth.vue"],names:[],mappings:"AACA,qBACE,kBAAoB,CACrB,AACD,4BACI,iBAAkB,AAClB,YAAa,AACb,WAAY,AACZ,gBAAkB,CACrB,AACD,2BACI,gBAAkB,CACrB,AACD,4BACI,cAAe,AACf,WAAa,CAChB,AACD,0BACE,YAAa,AACb,eAAiB,CAClB,AACD,2BACE,YAAa,AACb,eAAiB,CAClB,AACD,2CACE,0BAA2B,AAC3B,kBAAmB,AACnB,eAAgB,AAChB,kBAAmB,AACnB,eAAiB,CAClB,AACD,+CACI,aAAe,CAClB,AACD,sDACI,YAAc,CACjB,AACD,iDACE,oBAAsB,CACvB,AACD,4DACI,aAAe,CAClB,AACD,uBACE,WAAa,CACd,AACD,2BACE,YAAa,AACb,WAAY,AACZ,eAAgB,AAChB,iBAAkB,AAClB,gBAAkB,CACnB",file:"PersonalAuth.vue",sourcesContent:["\n.page-userAuth .item {\n  margin-bottom: 10px;\n}\n.page-userAuth .item .title {\n    line-height: 32px;\n    height: 32px;\n    width: 85px;\n    text-align: right;\n}\n.page-userAuth .item .desc {\n    line-height: 32px;\n}\n.page-userAuth .item .input {\n    display: block;\n    width: 285px;\n}\n.page-userAuth .uploadBtn {\n  width: 112px;\n  margin-top: 10px;\n}\n.page-userAuth .uploadBtn2 {\n  width: 130px;\n  margin-top: 10px;\n}\n.page-userAuth .avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.page-userAuth .avatar-uploader .el-upload img {\n    display: block;\n}\n.page-userAuth .avatar-uploader .el-upload .hover-img {\n    display: none;\n}\n.page-userAuth .avatar-uploader .el-upload:hover {\n  border-color: #26be96;\n}\n.page-userAuth .avatar-uploader .el-upload:hover .hover-img {\n    display: block;\n}\n.page-userAuth .avatar {\n  width: 300px;\n}\n.page-userAuth .uplaod-tip {\n  width: 200px;\n  color: #999;\n  font-size: 12px;\n  line-height: 16px;\n  margin-left: 10px;\n}\n"],sourceRoot:""}])},501:function(e,t,a){t=e.exports=a(435)(!0),t.push([e.i,".hover-img[data-v-b5eed450]{position:absolute;top:0;left:0;z-index:10;width:119px;height:88px}","",{version:3,sources:["D:/Ucpaas/code/smsa-agent-oem-F2E/src/pages/Customer/PersonalAuth.vue"],names:[],mappings:"AACA,4BACE,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,WAAY,AACZ,YAAa,AACb,WAAa,CACd",file:"PersonalAuth.vue",sourcesContent:["\n.hover-img[data-v-b5eed450] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 10;\n  width: 119px;\n  height: 88px;\n}\n"],sourceRoot:""}])},529:function(e,t,a){var s=a(500);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a(436)("458227d6",s,!0)},530:function(e,t,a){var s=a(501);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a(436)("65e6fe7b",s,!0)},572:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"p20 page-userAuth"},[s("div",[s("a",{staticClass:"btn btn-md btn-white",attrs:{href:"javascript:;"},on:{click:e.goBack}},[s("span",{staticClass:"fa fa-angle-left mr5"}),e._v("返回上一级")])]),s("div",{staticClass:"mt20"},[s("div",{staticClass:"item clearfix"},[s("div",{staticClass:"title fl"},[e._v("用户账号： ")]),s("div",{staticClass:"desc fl"},[e._v(e._s(e.params.clientId))])]),e._m(0),s("div",{staticClass:"item clearfix"},[s("div",{staticClass:"title fl"},[e._v("真实姓名：")]),s("div",{staticClass:"desc fl"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.params.realName,expression:"params.realName"}],staticClass:"input input-md",attrs:{placeholder:"请输入与身份证相符的真实姓名",type:"text"},domProps:{value:e.params.realName},on:{input:function(t){t.target.composing||e.$set(e.params,"realName",t.target.value)}}})])]),s("div",{staticClass:"item clearfix"},[s("div",{staticClass:"title fl"},[e._v("证件号码：")]),s("div",{staticClass:"desc fl"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.params.idNbr,expression:"params.idNbr"}],staticClass:"input input-md",attrs:{placeholder:"请输入身份证号码",type:"text"},domProps:{value:e.params.idNbr},on:{input:function(t){t.target.composing||e.$set(e.params,"idNbr",t.target.value)}}})])]),s("div",{staticClass:"item clearfix"},[s("div",{staticClass:"title fl"},[e._v("证件照片：")]),s("div",{staticClass:"pic-upload clearfix"},[s("div",{staticClass:"fl"},[e.imageUrl?s("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):s("img",{attrs:{src:a(99)}})]),e._m(1)])]),s("div",{staticClass:"item clearfix"},[s("div",{staticClass:"title fl"}),s("div",{staticClass:"fl"},[1!=e.edit?s("a",{staticClass:"upload btn btn-green btn-md uploadBtn",attrs:{href:"javascript:;"},on:{click:e.uploadCer}},[e._v("上传资质")]):s("a",{staticClass:"upload btn btn-green btn-md uploadBtn2",attrs:{href:"javascript:;"},on:{click:e.reUpload}},[e._v("重新上传资质")])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"item clearfix"},[a("div",{staticClass:"title fl"},[e._v("证件类型：")]),a("div",{staticClass:"desc fl"},[e._v("身份证")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fl"},[a("div",{attrs:{id:"uploader-demo"}},[a("div",{staticClass:"uploader-list",attrs:{id:"fileList"}}),a("div",{staticClass:"ml10",attrs:{id:"filePicker"}},[e._v("选择图片")])]),a("div",{staticClass:"uplaod-tip"},[a("p",[e._v("注：")]),a("p",[e._v("请用真实有效的证件，上传图片支持2M以内的JPG/PNG格式                  ")])])])}]}}});
//# sourceMappingURL=2.b2a6df6ab3469608b7bb.js.map