webpackJsonp([11],{449:function(e,a,t){t(516),t(517);var i=t(0)(t(473),t(560),"data-v-4109b32c",null);e.exports=i.exports},473:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t(1),s=new i.a;a.default={name:"enterpriseAuth",methods:{initUpload:function(){var e=this,a=this.uploadUrl,t=WebUploader.create({auto:!0,swf:NaN,fileVal:"photoFile",server:a,pick:"#filePicker",accept:{title:"Images",extensions:"gif,jpg,jpeg,bmp,png",mimeTypes:"image/*"}});t.on("fileQueued",function(a){t.makeThumb(a,function(a,t){if(a)return void e.$message.error("图片预览失败");e.imageUrl=t})}),t.on("uploadSuccess",function(a,t){"success"==t.result&&(e.params.imgUrl=t.path)})},uploadCer:function(){var e=this,a=this.params;return 0==a.id_nbr.length?(this.nbrError=!0,void this.$message.error("证件号码不能为空")):(this.nbrError=!1,a.id_nbr.length>20?void this.$message.error("证件号码长度不能大于20个字符"):a.company.length>60?void this.$message.error("公司长度不能大于60个字符"):0==a.company.length?(this.$message.error("公司名称不能为空"),void(this.companyErr=!0)):(this.companyErr=!1,0==a.imgUrl.length?void this.$message.error("请上传图片"):(a.id_type=this.uploadData.idType,void s.post("/admin/cer/add",a,{emulateJSON:!0}).then(function(a){e.$store.commit("LOAD_CER",{loading:!0}),e.$store.dispatch("getCerInfo"),e.$message({type:"success",message:a.msg})},function(a){e.$message.error(a.msg)}))))}},mounted:function(){var e=this;s.get("/admin/cer/info").then(function(a){e.uploadUrl=a.data.smsp_img_url+"/upload/uploadAuto.html",e.smsp_img_url=a.data.smsp_img_url,e.userId=a.data.agent_id,e.params.company=a.data.company,e.initUpload()},function(a){e.$message.error("获取资质信息失败")})},data:function(){return{imageUrl:"",uploadUrl:"",smsp_img_url:"",nbrError:!1,companyErr:!1,loadImg:!1,params:{id_type:"3",company:"",id_nbr:"",imgUrl:""},uploadData:{userId:"",idType:"3",oauthType:"1",fileFormats:"png,jpg,jpeg"},options:[{value:"3",label:"组织机构证"},{value:"4",label:"税务登记证"},{value:"5",label:"营业执照"},{value:"6",label:"三证合一(企业)"},{value:"7",label:"四证合一(企业)"},{value:"8",label:"登记证书号"},{value:"1",label:"个人身份证"}]}},computed:{cerInfo:function(){return this.$store.getters.cer_info},loading:function(){return this.$store.getters.load_cer}}}},487:function(e,a,t){a=e.exports=t(435)(!0),a.push([e.i,".page-userAuth .el-input__inner{height:30px}.page-userAuth .item{margin-bottom:10px}.page-userAuth .item .title{line-height:32px;height:32px;width:85px;text-align:right}.page-userAuth .item .desc{line-height:32px}.page-userAuth .item .input{display:block;width:285px}.page-userAuth .uploadBtn{width:110px;margin-top:10px}.page-userAuth .avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.page-userAuth .avatar-uploader .el-upload img{display:block}.page-userAuth .avatar-uploader .el-upload .hover-img{display:none}.page-userAuth .avatar{width:300px}.page-userAuth .avatar-uploader .el-upload:hover{border-color:#26be96}.page-userAuth .avatar-uploader .el-upload:hover .hover-img{display:block}.page-userAuth .error{border:1px solid red}.page-userAuth .uplaod-tip{width:200px;color:#999;font-size:12px;line-height:16px;margin-left:10px}","",{version:3,sources:["D:/Ucpaas/code/smsa-agent-oem-F2E/src/pages/Account/AgentAuth.vue"],names:[],mappings:"AACA,gCACE,WAAa,CACd,AACD,qBACE,kBAAoB,CACrB,AACD,4BACI,iBAAkB,AAClB,YAAa,AACb,WAAY,AACZ,gBAAkB,CACrB,AACD,2BACI,gBAAkB,CACrB,AACD,4BACI,cAAe,AACf,WAAa,CAChB,AACD,0BACE,YAAa,AACb,eAAiB,CAClB,AACD,2CACE,0BAA2B,AAC3B,kBAAmB,AACnB,eAAgB,AAChB,kBAAmB,AACnB,eAAiB,CAClB,AACD,+CACI,aAAe,CAClB,AACD,sDACI,YAAc,CACjB,AACD,uBACE,WAAa,CACd,AACD,iDACE,oBAAsB,CACvB,AACD,4DACI,aAAe,CAClB,AACD,sBACE,oBAAsB,CACvB,AACD,2BACE,YAAa,AACb,WAAY,AACZ,eAAgB,AAChB,iBAAkB,AAClB,gBAAkB,CACnB",file:"AgentAuth.vue",sourcesContent:["\n.page-userAuth .el-input__inner {\n  height: 30px;\n}\n.page-userAuth .item {\n  margin-bottom: 10px;\n}\n.page-userAuth .item .title {\n    line-height: 32px;\n    height: 32px;\n    width: 85px;\n    text-align: right;\n}\n.page-userAuth .item .desc {\n    line-height: 32px;\n}\n.page-userAuth .item .input {\n    display: block;\n    width: 285px;\n}\n.page-userAuth .uploadBtn {\n  width: 110px;\n  margin-top: 10px;\n}\n.page-userAuth .avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.page-userAuth .avatar-uploader .el-upload img {\n    display: block;\n}\n.page-userAuth .avatar-uploader .el-upload .hover-img {\n    display: none;\n}\n.page-userAuth .avatar {\n  width: 300px;\n}\n.page-userAuth .avatar-uploader .el-upload:hover {\n  border-color: #26be96;\n}\n.page-userAuth .avatar-uploader .el-upload:hover .hover-img {\n    display: block;\n}\n.page-userAuth .error {\n  border: 1px solid red;\n}\n.page-userAuth .uplaod-tip {\n  width: 200px;\n  color: #999;\n  font-size: 12px;\n  line-height: 16px;\n  margin-left: 10px;\n}\n"],sourceRoot:""}])},488:function(e,a,t){a=e.exports=t(435)(!0),a.push([e.i,".hover-img[data-v-4109b32c]{position:absolute;top:0;left:0;z-index:10;width:88px;height:119px}.loading[data-v-4109b32c]{width:100px;height:50px}","",{version:3,sources:["D:/Ucpaas/code/smsa-agent-oem-F2E/src/pages/Account/AgentAuth.vue"],names:[],mappings:"AACA,4BACE,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,WAAY,AACZ,WAAY,AACZ,YAAc,CACf,AACD,0BACE,YAAa,AACb,WAAa,CACd",file:"AgentAuth.vue",sourcesContent:["\n.hover-img[data-v-4109b32c] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 10;\n  width: 88px;\n  height: 119px;\n}\n.loading[data-v-4109b32c] {\n  width: 100px;\n  height: 50px;\n}\n"],sourceRoot:""}])},516:function(e,a,t){var i=t(487);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t(436)("644e4c58",i,!0)},517:function(e,a,t){var i=t(488);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t(436)("2baadccc",i,!0)},560:function(e,a,t){e.exports={render:function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("div",{staticClass:"p20 page-userAuth"},[i("div",{staticClass:"mt20"},[i("div",{staticClass:"item clearfix"},[i("div",{staticClass:"title fl"},[e._v("用户账号： ")]),i("div",{staticClass:"desc fl"},[e._v(e._s(e.cerInfo.agent_id))])]),i("div",{staticClass:"item clearfix"},[i("div",{staticClass:"title fl"},[e._v("证件类型：")]),i("div",{staticClass:"desc fl"},[i("el-select",{staticClass:"fl border sel",model:{value:e.uploadData.idType,callback:function(a){e.$set(e.uploadData,"idType",a)},expression:"uploadData.idType"}},e._l(e.options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),i("div",{staticClass:"item clearfix"},[i("div",{staticClass:"title fl"},[e._v("证件号码：")]),i("div",{staticClass:"desc fl"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.params.id_nbr,expression:"params.id_nbr"}],staticClass:"input input-md",class:[e.nbrError?"error":""],attrs:{placeholder:"请输入证件号码",type:"text"},domProps:{value:e.params.id_nbr},on:{input:function(a){a.target.composing||e.$set(e.params,"id_nbr",a.target.value)}}})])]),i("div",{staticClass:"item clearfix"},[i("div",{staticClass:"title fl"},[e._v("公司名称：")]),i("div",{staticClass:"desc fl"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.params.company,expression:"params.company"}],staticClass:"input input-md",class:[e.companyErr?"error":""],attrs:{placeholder:"请输入与营业执照相符的公司名称",type:"text"},domProps:{value:e.params.company},on:{input:function(a){a.target.composing||e.$set(e.params,"company",a.target.value)}}})])]),i("div",{staticClass:"item clearfix"},[i("div",{staticClass:"title fl"},[e._v("证件照片：")]),i("div",{staticClass:"pic-upload clearfix"},[i("div",{staticClass:"fl"},[e.imageUrl?i("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):i("img",{attrs:{src:t(100)}})]),e._m(0)])]),i("div",{staticClass:"item clearfix"},[i("div",{staticClass:"title fl"}),i("div",{staticClass:"fl"},[i("a",{staticClass:"upload btn btn-green btn-md uploadBtn",attrs:{href:"javascript:;"},on:{click:e.uploadCer}},[e._v("上传资质")])])])])])},staticRenderFns:[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"fl"},[t("div",{attrs:{id:"uploader-demo"}},[t("div",{staticClass:"uploader-list",attrs:{id:"fileList"}}),t("div",{attrs:{id:"filePicker"}},[e._v("选择图片")])]),t("div",{staticClass:"uplaod-tip"},[t("p",[e._v("注：")]),t("p",[e._v("请用真实有效的证件，上传图片支持2M以内的JPG/PNG格式        ")])])])}]}}});
//# sourceMappingURL=11.57fc44790130d54a6a12.js.map